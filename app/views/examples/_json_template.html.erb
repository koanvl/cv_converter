<% json_template=  {
  "name": "John Smith",
  "current_role": "Full Stack Developer",
  "projects": [
    {
      "id": "project_1",
      "title": "E-commerce Platform",
      "rows": [
        {
          "title": "Project name",
          "description": "Online Store"
        },
        {
          "title": "Overview",
          "description": "Built a modern e-commerce platform using React and Node.js with microservices architecture. Implemented payment processing, inventory management, and real-time order tracking."
        },
        {
          "title": "Technologies",
          "description": "React, Node.js, MongoDB, Docker, Kubernetes"
        },
        {
          "title": "Role",
          "description": "Lead Full Stack Developer"
        },
        {
          "title": "Common tasks",
          "description": "• Develop frontend components\n• Design and implement APIs\n• Optimize application performance\n• Lead development team\n• Code reviews and mentoring"
        },
        {
          "title": "Duration",
          "description": "18 months"
        }
      ]
    },
    {
      "id": "project_2",
      "title": "Analytics Dashboard",
      "rows": [
        {
          "title": "Project name",
          "description": "Business Intelligence Tool"
        },
        {
          "title": "Overview",
          "description": "Created a real-time analytics dashboard for business metrics visualization. Implemented data processing pipeline and interactive charts."
        },
        {
          "title": "Technologies",
          "description": "Vue.js, TypeScript, GraphQL, PostgreSQL, Redis, AWS"
        },
        {
          "title": "Role",
          "description": "Senior Full Stack Developer"
        },
        {
          "title": "Common tasks",
          "description": "• Design system architecture\n• Implement data visualization\n• Optimize database queries\n• Set up CI/CD pipelines\n• Performance monitoring"
        },
        {
          "title": "Duration",
          "description": "12 months"
        }
      ]
    }
  ],
  "languages": [
    {
      "title": "English",
      "level": "Native"
    },
    {
      "title": "Spanish",
      "level": "Professional"
    }
  ],
  "skills_qualifications": [
    {
      "title": "Frontend Development",
      "description": "React, Vue.js, TypeScript, HTML5, CSS3"
    },
    {
      "title": "Backend Development",
      "description": "Node.js, GraphQL, REST APIs"
    },
    {
      "title": "Database Technologies",
      "description": "PostgreSQL, MongoDB, Redis"
    },
    {
      "title": "DevOps & Cloud",
      "description": "Docker, Kubernetes, AWS"
    }
  ]
}%>

<div class="json-template max-h-[600px] overflow-y-scroll" 
     data-controller="json-template"
     data-json-template-json-value="<%= json_template.to_json %>"
     data-json-template-target="output">
  <pre>
    <code class="language-json" style="white-space: pre-wrap; word-wrap: break-word;">
     
    </code>
  </pre>
</div>
<style>
.json-field {
  cursor: grab;
  color: #2563eb;
  user-select: none;
  position: relative;
}

.json-field:hover {
  background-color: rgba(37, 99, 235, 0.1);
  border-radius: 4px;
}

.json-field:active {
  cursor: grabbing;
}

.json-array-field {
  color: #7c3aed; /* Фиолетовый цвет для массивов */
}

.json-array-field::after {
  content: '[]';
  font-size: 0.8em;
  position: absolute;
  top: -0.5em;
  margin-left: 2px;
  opacity: 0.7;
}
</style>

<script>
document.querySelectorAll('.json-field').forEach(field => {
  field.addEventListener('dragstart', (e) => {
    e.dataTransfer.setData('text/plain', `{{${e.target.dataset.field}}}`);
    e.dataTransfer.effectAllowed = 'copy';
  });
});
</script>